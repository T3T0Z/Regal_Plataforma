@model VM_GestionUsuarios;

@foreach (var user in Model.listUsuarios)
{
    var roles = new List<string>();
    if (user.Gestor) roles.Add("Gestor");
    if (user.Operario) roles.Add("Operario");
    if (user.Externo) roles.Add("Externo");

    <div class="card card-custom" data-rol="@string.Join(" ", roles)" onclick="verDetallesUsuario(@user.UsuarioPk)">
        <div class="card-content">
            <div class="card-header d-flex justify-content-between align-items-center">
                <strong>Usuario:</strong> @user.Usuario1
                <button class="btn btn-sm btn-outline-danger" onclick="event.stopPropagation(); eliminarUsuario(@user.UsuarioPk)">Eliminar</button>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <strong class="card-enunciados">Nombre:</strong>
                    <span class="card-encargos">@user.Nombre</span>
                </div>
                <div class="col-md-4">
                    <strong class="card-enunciados">Apellidos:</strong>
                    <span class="card-encargos">@user.Apellidos</span>
                </div>
                <div class="col-md-4">
                    <strong class="card-enunciados">Rol:</strong>
                    <span class="card-encargos">@string.Join(", ", roles)</span>
                </div>
            </div>
        </div>
    </div>
}